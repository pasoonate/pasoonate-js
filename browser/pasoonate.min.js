const AdditionAndSubtraction={addYear(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),a=e.year+t,t=this._currentCalendar.daysInMonth(a,e.month),t=e.day<=t?e.day:t,e=this._currentCalendar.dateToTimestamp(a,e.month,t,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},addMonth(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),a=e.month+t,s=e.year+Math.ceil(a/12-1),t=a%12==0?12:a%12,a=this._currentCalendar.daysInMonth(s,t),a=e.day<=a?e.day:a,e=this._currentCalendar.dateToTimestamp(s,t,a,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},addDay(t){return this._timestamp+=86400*t,this},addHour(t){return this._timestamp+=3600*t,this},addMinute(t){return this._timestamp+=60*t,this},addSecond(t){return this._timestamp+=t,this},subYear(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),a=e.year-t,t=this._currentCalendar.daysInMonth(a,e.month),t=e.day<=t?e.day:t,e=this._currentCalendar.dateToTimestamp(a,e.month,t,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},subMonth(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),t=e.month-t;let a=e.year,s=t;t<=0&&(t=-t,a-=Math.floor(t/12)+1,s=12-t%12);t=this._currentCalendar.daysInMonth(a,s),t=e.day<=t?e.day:t,e=this._currentCalendar.dateToTimestamp(a,s,t,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},subDay(t){return this._timestamp-=86400*t,this},subHour(t){return this._timestamp-=3600*t,this},subMinute(t){return this._timestamp-=60*t,this},subSecond(t){return this._timestamp-=t,this}},Base={setTimestamp(t){return this._timestamp=t,this},getTimestamp(){return this._timestamp},setTimezoneOffset(t){return this._timezoneOffset=t,this},getTimezoneOffset(){return this._timezoneOffset},setYear(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),e=this._currentCalendar.dateToTimestamp(t,e.month,e.day,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},getYear(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).year},setMonth(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),e=this._currentCalendar.dateToTimestamp(e.year,t,e.day,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},getMonth(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).month},setDay(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),e=this._currentCalendar.dateToTimestamp(e.year,e.month,t,e.hour,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},getDay(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).day},setHour(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),e=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,t,e.minute,e.second);return this._timestamp=e-this._timezoneOffset,this},getHour(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).hour},setMinute(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),e=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,e.hour,t,e.second);return this._timestamp=e-this._timezoneOffset,this},getMinute(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).minute},setSecond(t){var e=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),t=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,e.hour,e.minute,t);return this._timestamp=t-this._timezoneOffset,this},getSecond(){return this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset).second},setUTCYear(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(t,e.month,e.day,e.hour,e.minute,e.second),this},getUTCYear(){return this._currentCalendar.timestampToDate(this._timestamp).year},setUTCMonth(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(e.year,t,e.day,e.hour,e.minute,e.second),this},getUTCMonth(){return this._currentCalendar.timestampToDate(this._timestamp).month},setUTCDay(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(e.year,e.month,t,e.hour,e.minute,e.second),this},getUTCDay(){return this._currentCalendar.timestampToDate(this._timestamp).day},setUTCHour(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,t,e.minute,e.second),this},getUTCHour(){return this._currentCalendar.timestampToDate(this._timestamp).hour},setUTCMinute(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,e.hour,t,e.second),this},getUTCMinute(){return this._currentCalendar.timestampToDate(this._timestamp).minute},setUTCSecond(t){var e=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(e.year,e.month,e.day,e.hour,e.minute,t),this},getUTCSecond(){return this._currentCalendar.timestampToDate(this._timestamp).second},setDate(t,e,a){var s=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),s=this._currentCalendar.dateToTimestamp(t,e,a,s.hour,s.minute,s.second);return this._timestamp=s-this._timezoneOffset,this},getDate(){var t=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset);return{year:t.year,month:t.month,day:t.day}},setTime(t,e,a){var s=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset),a=this._currentCalendar.dateToTimestamp(s.year,s.month,s.day,t,e,a);return this._timestamp=a-this._timezoneOffset,this},getTime(){var t=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset);return{hour:t.hour,minute:t.minute,second:t.second}},setDateTime(t,e,a,s,r,n){n=this._currentCalendar.dateToTimestamp(t,e,a,s,r,n);return this._timestamp=n-this._timezoneOffset,this},getDateTime(){var t=this._currentCalendar.timestampToDate(this._timestamp+this._timezoneOffset);return{year:t.year,month:t.month,day:t.day,hour:t.hour,minute:t.minute,second:t.second}},setUTCDate(t,e,a){var s=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(t,e,a,s.hour,s.minute,s.second),this},getUTCDate(){var t=this._currentCalendar.timestampToDate(this._timestamp);return{year:t.year,month:t.month,day:t.day}},setUTCTime(t,e,a){var s=this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(s.year,s.month,s.day,t,e,a),this},getUTCTime(){var t=this._currentCalendar.timestampToDate(this._timestamp);return{hour:t.hour,minute:t.minute,second:t.second}},setUTCDateTime(t,e,a,s,r,n){this._currentCalendar.timestampToDate(this._timestamp);return this._timestamp=this._currentCalendar.dateToTimestamp(t,e,a,s,r,n),this},getUTCDateTime(){var t=this._currentCalendar.timestampToDate(this._timestamp);return{year:t.year,month:t.month,day:t.day,hour:t.hour,minute:t.minute,second:t.second}},dayOfWeek(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)},dayOfYear(){return this._currentCalendar.dayOfYear(this._timestamp+this._timezoneOffset)},weekOfMonth(){return this._currentCalendar.weekOfMonth(this._timestamp+this._timezoneOffset)},weekOfYear(){return this._currentCalendar.weekOfYear(this._timestamp+this._timezoneOffset)}},Comparison={equal(t){return this._timestamp===t._timestamp},afterThan(t){return this._timestamp>t._timestamp},afterThanOrEqual(t){return this._timestamp>=t._timestamp},beforeThan(t){return this._timestamp<t._timestamp},beforeThanOrEqual(t){return this._timestamp<=t._timestamp},between(t,e){return t._timestamp<=this._timestamp&&e._timestamp>=this._timestamp},min(t){return this._timestamp<=t._timestamp?this:t},max(t){return this._timestamp>=t._timestamp?this:t},isWeekday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)!==Constants.Friday},isWeekend(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Friday},isSaturday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Saturday},isSunday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Sunday},isMonday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Monday},isTuesday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Tuesday},isWednesday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Wednesday},isThursday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Thursday},isFriday(){return this._currentCalendar.dayOfWeek(this._timestamp+this._timezoneOffset)===Constants.Friday},isYesterday(){var t=Pasoonate.make().gregorian().subDay(1);return 0===this.gregorian().diffInDays(t)},isToday(){var t=Pasoonate.make().gregorian();return 0===this.gregorian().diffInDays(t)},isTomorrow(){var t=Pasoonate.make().gregorian().addDay(1);return 0===this.gregorian().diffInDays(t)},isFuture(){var t=Pasoonate.make().gregorian();return 1<this.gregorian().diffInDays(t)},isPast(){const t=Pasoonate.make().gregorian();return 1<t.gregorian().diffInDays(this)},isLeapYear(){return this._currentCalendar.isLeap(this._currentCalendar.getYear())},isSameDay(t){return 0===this.gregorian().diffInDays(t)}},Difference={age(t){var e=this.diffInSeconds(t),a=e/Constants.DayInSeconds,s=parseInt(e/Constants.YearInSeconds),r=parseInt((e-s*Constants.YearInSeconds)/Constants.MonthInSeconds),n=parseInt(a),t=e/Constants.HourInSeconds,a=e/Constants.SecondsPerMinute,e=e;return{years:parseInt(s),months:parseInt(r),days:parseInt(n),hours:parseInt(t),minutes:parseInt(a),seconds:parseInt(e)}},diff(t){var e=this.diffInSeconds(t),a=e/Constants.DayInSeconds,s=parseInt(a)/Constants.YearInDays,r=parseInt(a)/Constants.MonthInDays,n=parseInt(a),t=e/Constants.HourInSeconds,a=e/Constants.SecondsPerMinute,e=e;return{years:parseInt(s),months:parseInt(r),days:parseInt(n),hours:parseInt(t),minutes:parseInt(a),seconds:parseInt(e)}},diffInSeconds(t){return Math.abs(this.getTimestamp()-t.getTimestamp())},diffInMinutes(t){t=Math.abs(this.getTimestamp()-t.getTimestamp());return t>=Constants.SecondsPerMinute?parseInt(t/Constants.SecondsPerMinute):0},diffInHours(t){t=Math.abs(this.getTimestamp()-t.getTimestamp());return t>=Constants.HourInSeconds?parseInt(t/Constants.HourInSeconds):0},diffInDays(t){t=Math.abs(this.getTimestamp()-t.getTimestamp());return t>=Constants.DayInSeconds?parseInt(t/Constants.DayInSeconds):0},diffInMonths(t){t=Math.abs(this.getTimestamp()-t.getTimestamp());return t>=Constants.MonthInSeconds?parseInt(t/Constants.MonthInSeconds):0},diffInYears(t){t=Math.abs(this.getTimestamp()-t.getTimestamp());return t>=Constants.YearInSeconds?parseInt(t/Constants.YearInSeconds):0}},Modifiers={startOfDay(){return this.setTime(0,0,0)},endOfDay(){return this.setTime(23,59,59)},startOfMonth(){return this.setDay(1).startOfDay()},endOfMonth(){return this.setDay(this._currentCalendar.daysInMonth(this.getYear(),this.getMonth())).endOfDay()},startOfYear(){return this.setMonth(1).startOfMonth()},endOfYear(){return this.setMonth(12).endOfMonth()},startOfWeek(){var t=this.dayOfWeek();return this.subDay(t).startOfDay()},endOfWeek(){var t=6-this.dayOfWeek();return this.addDay(t).endOfDay()}};class Calendar{constructor(){this.J1970=2440587.5,this.name=""}getName(){return this.name}timestampToJulianDay(t){var e=t/Constants.DayInSeconds+this.J1970,t=Math.round(1e7*(e-Math.floor(e)))/1e7;return Math.floor(e)+t}julianDayToTimestamp(t){return Math.round((t-this.J1970)*Constants.DayInSeconds)}julianDayWithoutTime(t){return Math.floor(t)+(.5<=t-Math.floor(t)?.5:-.5)}extractJulianDayTime(t){t+=.5;t=Math.floor((t-Math.floor(t))*Constants.DayInSeconds);return{hour:Math.floor(t/3600),minute:Math.floor(t/60%60),second:Math.floor(t%60)}}addTimeToJulianDay(t,e,a,s){var r=this.julianDayToTimestamp(t);t=this.timestampToJulianDay(r+=3600*e+60*a+s);r=Math.round(1e7*(t-Math.floor(t)))/1e7;return Math.floor(t)+r}dateToJulianDay(t,e,a,s,r,n){}dateToTimestamp(t,e,a,s,r,n){n=this.dateToJulianDay(t,e,a,s,r,n);return this.julianDayToTimestamp(n)}julianDayToDate(t){}timestampToDate(t){t=this.timestampToJulianDay(t);return this.julianDayToDate(t)}daysInMonth(t,e){return 0}dayOfWeek(t){t=this.timestampToJulianDay(t);return this.mod(Math.floor(t+2.5),7)}dayOfYear(t){var e=this.timestampToDate(t),t=this.dateToJulianDay(e.year,1,1,0,0,0),e=this.dateToJulianDay(e.year,e.month,e.day,e.hour,e.minute,e.second);return Math.floor(e-t+1)}weekOfMonth(t){var e=this.timestampToDate(t),a=this.dateToTimestamp(e.year,e.month,1,e.hour,e.minute,e.second),t=this.dayOfWeek(t),a=this.dayOfWeek(a);let s=1;return e.day<=7-a||(s+=(e.day-(7-a+(t+1)))/7+1),s}weekOfYear(t){var e=this.timestampToDate(t),a=this.dayOfYear(t),e=this.dateToTimestamp(e.year,1,1,e.hour,e.minute,e.second),t=this.dayOfWeek(t),e=this.dayOfWeek(e);let s=1;return a<=7-e||(s+=(a-(7-e+(t+1)))/7+1),s}mod(t,e){return t-e*Math.floor(t/e)}isLeap(t){}}class CalendarManager{constructor(t,e){this._gregorian=new GregorianCalendar,this._jalali=new JalaliCalendar,this._islamic=new IslamicCalendar,this._shia=new ShiaCalendar,this._currentCalendar=null,this._formatter=Pasoonate.formatter,this._parser=Pasoonate.parser;let a=new Date;this._timestamp=t||Math.floor(a.getTime()/1e3),this._timezoneOffset=e||60*-a.getTimezoneOffset()}gregorian(t){return this._currentCalendar=this._gregorian,t&&this.parse("yyyy-MM-dd HH:mm:ss",t),this}jalali(t){return this._currentCalendar=this._jalali,t&&this.parse("yyyy-MM-dd HH:mm:ss",t),this}islamic(t){return this._currentCalendar=this._islamic,t&&this.parse("yyyy-MM-dd HH:mm:ss",t),this}shia(t){return this._currentCalendar=this._shia,t&&this.parse("yyyy-MM-dd HH:mm:ss",t),this}name(t){if(!t)return this._currentCalendar?this._currentCalendar.getName():"";t=this[`_${t=String(t).toLowerCase()}`];t&&(this._currentCalendar=t)}parse(t,e){return(this._parser.calendar=this)._parser.parse(t,e),this}format(t,e){return this._formatter.setCalendar(this),this._formatter.format(t,e)}clone(){return Pasoonate.make(this.getTimestamp(),this.getTimezoneOffset())}}Object.assign(CalendarManager.prototype,Base),Object.assign(CalendarManager.prototype,AdditionAndSubtraction),Object.assign(CalendarManager.prototype,Difference),Object.assign(CalendarManager.prototype,Comparison),Object.assign(CalendarManager.prototype,Modifiers);class GregorianCalendar extends Calendar{constructor(){super(),this.name="gregorian",this.GregorianEpoch=1721425.5,Object.defineProperty(this,"GregorianEpoch",{writable:!1,configurable:!1})}dateToJulianDay(t,e,a,s,r,n){var i=this.GregorianEpoch-1;return i+=365*(t-1),i+=Math.floor((t-1)/4),i+=-1*Math.floor((t-1)/100),i+=Math.floor((t-1)/400),i+=Math.floor((367*e-362)/12+(e<=2?0:this.isLeap(t)?-1:-2)+a),this.addTimeToJulianDay(i,s,r,n)}julianDayToDate(t){var e=this.extractJulianDayTime(t);t=this.julianDayWithoutTime(t);var a=Math.floor(t-.5)+.5,s=a-this.GregorianEpoch,r=Math.floor(s/146097),n=this.mod(s,146097),t=Math.floor(n/36524),s=this.mod(n,36524),n=Math.floor(s/1461),s=this.mod(s,1461),s=Math.floor(s/365);let i=400*r+100*t+4*n+s;4!=t&&4!=s&&i++;t=a-this.julianDayWithoutTime(this.dateToJulianDay(i,1,1,e.hour,e.minute,e.second)),s=a<this.julianDayWithoutTime(this.dateToJulianDay(i,3,1,e.hour,e.minute,e.second))?0:this.isLeap(i)?1:2,s=Math.floor((12*(t+s)+373)/367),a=a-this.julianDayWithoutTime(this.dateToJulianDay(i,s,1,e.hour,e.minute,e.second))+1;return{year:i,month:s,day:a,hour:e.hour,minute:e.minute,second:e.second}}daysInMonth(t,e){if(e<1||12<e)throw new RangeException("$month Out Of Range Exception");return t&&this.isLeap(t)&&2==e?29:[31,28,31,30,31,30,31,31,30,31,30,31][e-1]}isLeap(t){return t%4==0&&!(t%100==0&&t%400!=0)}}class IslamicCalendar extends Calendar{constructor(){super(),this.name="islamic",this.IslamicEpoch=1948439.5,Object.defineProperty(this,"IslamicEpoch",{writable:!1,configurable:!1})}dateToJulianDay(t,e,a,s,r,n){return a+=Math.ceil(29.5*(e-1)),a+=354*(t-1),a+=Math.floor((11*t+3)/30),a+=this.IslamicEpoch-1,this.addTimeToJulianDay(a,s,r,n)}julianDayToDate(t){var e=this.extractJulianDayTime(t);t=this.julianDayWithoutTime(t),t=Math.floor(t)+.5;var a=Math.floor((30*(t-this.IslamicEpoch)+10646)/10631),s=Math.min(12,Math.ceil((t-(29+this.julianDayWithoutTime(this.dateToJulianDay(a,1,1,e.hour,e.minute,e.second))))/29.5)+1);return{year:a,month:s,day:t-this.julianDayWithoutTime(this.dateToJulianDay(a,s,1,e.hour,e.minute,e.second))+1,hour:e.hour,minute:e.minute,second:e.second}}daysInMonth(t,e){if(e<1||12<e)throw new RangeException("$month Out Of Range Exception");return t&&this.isLeap(t)&&12==e?30:[30,29,30,29,30,29,30,29,30,29,30,29][e-1]}isLeap(t){return(11*t+14)%30<11}}class JalaliCalendar extends Calendar{constructor(){super(),this.name="jalali",this.JalaliEpoch=1948320.5,Object.defineProperty(this,"JalaliEpoch",{writable:!1,configurable:!1})}dateToJulianDay(t,e,a,s,r,n){var i=t-(0<=t?474:473),t=474+this.mod(i,2820),a=a;return a+=e<=7?31*(e-1):30*(e-1)+6,a+=Math.floor((682*t-110)/2816),a+=365*(t-1),a+=1029983*Math.floor(i/2820),a+=this.JalaliEpoch-1,this.addTimeToJulianDay(a,s,r,n)}julianDayToDate(t){var e=this.extractJulianDayTime(t);t=this.julianDayWithoutTime(t);var a=(t=Math.floor(t)+.5)-this.julianDayWithoutTime(this.dateToJulianDay(475,1,1,e.hour,e.minute,e.second)),s=Math.floor(a/1029983),a=this.mod(a,1029983);let r,n,i;r=1029982==a?2820:(n=Math.floor(a/366),i=this.mod(a,366),Math.floor((2134*n+2816*i+2815)/1028522)+n+1);let o=r+2820*s+474;o<=0&&o--;s=t-this.julianDayWithoutTime(this.dateToJulianDay(o,1,1,e.hour,e.minute,e.second))+1,s=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),t=t-this.julianDayWithoutTime(this.dateToJulianDay(o,s,1,e.hour,e.minute,e.second))+1;return{year:o,month:s,day:t,hour:e.hour,minute:e.minute,second:e.second}}daysInMonth(t,e){if(e<1||12<e)throw new RangeException("$month Out Of Range Exception");return t&&this.isLeap(t)&&12==e?30:[31,31,31,31,31,31,30,30,30,30,30,29][e-1]}isLeap(t){return 682*((t-(0<t?474:473))%2820+474+38)%2816<682}}class ShiaCalendar extends Calendar{constructor(){super(),this.name="shia",this.ShiaEpoch=1948439.5,Object.defineProperty(this,"ShiaEpoch",{writable:!1,configurable:!1})}dateToJulianDay(e,a,t,s,r,n){var i=this.daysInMonth(e,a);let o=t;var h=this.julianDayFirstOfYear(e);let m=0;i<t&&(o=t-i,e=12===a?e+1:e,a=12===a?1:a+1);for(let t=1;t<a;t++)o+=this.daysInMonth(e,t);return m+=o,h?m+=h-1:(m+=(e-1)*Constants.DaysOfShiaYear,m+=Math.floor((11*e+14)/30),m+=this.ShiaEpoch-(1440===e?2:1)),this.addTimeToJulianDay(m,s,r,n)}julianDayToDate(t){var e=this.extractJulianDayTime(t);t=this.julianDayWithoutTime(t);var a=Math.floor((30*(t-this.ShiaEpoch)+10646)/10631);let s=Math.min(12,Math.ceil((t-(29+this.julianDayWithoutTime(this.dateToJulianDay(a,1,1,e.hour,e.minute,e.second))))/29.5)+1);var r=t-this.dateToJulianDay(a,1,1,0,0,0)+1;let n=0;for(let t=1;t<=12;t++)if(n+=this.daysInMonth(a,t),r<=n){s=t;break}t=r-(n-this.daysInMonth(a,s));return{year:a,month:s,day:t,hour:e.hour,minute:e.minute,second:e.second}}daysInMonth(t,e){var a={1435:[29,30,29,30,29,30,29,30,30,30,29,30],1436:[29,30,29,29,30,29,30,29,30,29,30,30],1437:[29,30,30,29,30,29,29,30,29,29,30,30],1438:[29,30,30,30,29,30,29,29,30,29,29,30],1439:[29,30,30,30,30,29,30,29,29,30,29,29],1440:[30,29,30,30,30,29,30,29,30,29,30,29],1441:[29,30,29,30,30,29,30,30,29,30,29,30],1442:[29,29,30,29,30,29,30,30,29,30,30,29],1443:[29,30,30,29,29,30,29,29,30,29,30,30],1444:[30,30,29,30,29,29,30,29,30,29,30,29],1445:[30,30,30,29,30,29,29,30,30,29,29,30]};if(e<1||12<e)throw new RangeException("$month Out Of Range Exception");return(void 0===a[t]?[30,29,30,29,30,29,30,29,30,29,30,29]:a[t])[e-1]}julianDayFirstOfYear(t){var e={1435:2456601.5,1436:2456956.5,1437:2457310.5,1438:2457664.5,1439:2458018.5,1440:2458372.5,1441:2458727.5,1442:2459082.5,1443:2459436.5,1444:2459790.5,1445:2460144.5};if(void 0!==e[t])return e[t];var a=Object.keys(e),s=Math.min(...a),a=Math.max(...a);let r=0;return r=a<t?e[a]+(t-a)*Constants.DaysOfShiaYear:e[s]-(s-t)*Constants.DaysOfShiaYear,r}isLeap(t){return(11*t+14)%30<11}}class DateFormat{constructor(){this._calendar=null}setCalendar(t){this._calendar=t instanceof CalendarManager?t:null}getCalendar(){return this._calendar}format(){return null===this.getCalendar()?"":`${this._calendar.getYear()}-${this._calendar.getMonth()}-${this._calendar.getDay()} ${this._calendar.getHour()}:${this._calendar.getMinute()}:${this._calendar.getSecond()}`}}class SimpleDateFormat extends DateFormat{constructor(){super()}format(t,e){return this.compile(t,e)}compile(e,t){e=String(e);let a=[],s="";var r,n;let i=0;for(let t=0;t<e.length;t++)""!==(r=e[t])&&(r===s?a[i]+=r:a[++i]=r,s=r);for(n in a)switch(a[n]){case"yyyy":a[n]=this.getCalendar().getYear();break;case"yy":a[n]=String(this.getCalendar().getYear()).substr(-2,2);break;case"MMMM":a[n]=Pasoonate.trans(`${this.getCalendar().name()}.month_name.${this.getCalendar().getMonth()}`);break;case"MMM":a[n]=Pasoonate.trans(`${this.getCalendar().name()}.short_month_name.${this.getCalendar().getMonth()}`);break;case"MM":a[n]=9<this.getCalendar().getMonth()?this.getCalendar().getMonth():`0${this.getCalendar().getMonth()}`;break;case"M":a[n]=this.getCalendar().getMonth();break;case"dddd":a[n]=Pasoonate.trans(`${this.getCalendar().name()}.day_name.${this.getCalendar().dayOfWeek()}`);break;case"ddd":a[n]=Pasoonate.trans(`${this.getCalendar().name()}.short_day_name.${this.getCalendar().dayOfWeek()}`);break;case"dd":a[n]=9<this.getCalendar().getDay()?this.getCalendar().getDay():`0${this.getCalendar().getDay()}`;break;case"d":a[n]=this.getCalendar().getDay();break;case"HH":a[n]=9<this.getCalendar().getHour()?this.getCalendar().getHour():`0${this.getCalendar().getHour()}`;break;case"H":a[n]=this.getCalendar().getHour();break;case"mm":a[n]=9<this.getCalendar().getMinute()?this.getCalendar().getMinute():`0${this.getCalendar().getMinute()}`;break;case"m":a[n]=this.getCalendar().getMinute();break;case"ss":a[n]=9<this.getCalendar().getSecond()?this.getCalendar().getSecond():`0${this.getCalendar().getSecond()}`;break;case"s":a[n]=this.getCalendar().getSecond()}return a.join("")}}class Parser{_calendar=null;constructor(){}get calendar(){return this._calendar}set calendar(t){this._calendar=t instanceof CalendarManager?t:null}parse(t,e){}}class SimpleParser extends Parser{static FULL_YEAR="yyyy";static SHORT_YEAR="yy";static FULL_MONTH_NAME="MMMM";static SHORT_MONTH_NAME="MMM";static FULL_MONTH="MM";static SHORT_MONTH="M";static SHORT_DAY_NAME="ddd";static FULL_DAY_NAME="dddd";static FULL_DAY="dd";static SHORT_DAY="d";static FULL_HOUR="HH";static SHORT_HOUR="H";static FULL_MINUTE="mm";static SHORT_MINUTE="m";static FULL_SECOND="ss";static SHORT_SECOND="s";constructor(){super()}translate(e){let a={},t=[],s="";var r,n,i="";let o="",h=0;const m=new Map([[SimpleParser.FULL_YEAR,"(\\d{4})"],[SimpleParser.SHORT_YEAR,"(\\d{2})"],[SimpleParser.FULL_MONTH_NAME,"(\\D+)"],[SimpleParser.SHORT_MONTH_NAME,"(\\D+)"],[SimpleParser.FULL_MONTH,"(\\d{2})"],[SimpleParser.SHORT_MONTH,"(\\d{1,2})"],[SimpleParser.FULL_DAY_NAME,"(\\D+)"],[SimpleParser.SHORT_DAY_NAME,"(\\D+)"],[SimpleParser.FULL_DAY,"(\\d{2})"],[SimpleParser.SHORT_DAY,"(\\d{1,2})"],[SimpleParser.FULL_HOUR,"(\\d{2})"],[SimpleParser.SHORT_HOUR,"(\\d{1,2})"],[SimpleParser.FULL_MINUTE,"(\\d{2})"],[SimpleParser.SHORT_MINUTE,"(\\d{1,2})"],[SimpleParser.FULL_SECOND,"(\\d{2})"],[SimpleParser.SHORT_SECOND,"(\\d{1,2})"]]);for(let t=0;t<e.length;t++)""!==(i=e[t])&&(i===s?(r=a[h]??"",a[h]=r+i):a[++h]=i,s=i);for(n in a){var d=a[n];m.has(d)&&(a[n]=m.get(d),t.push(d))}return o=Object.values(a).join(""),o=o.replace("/","/").replace(".","."),{pattern:o,sequence:t}}match(t,e,a){const s=new RegExp(t);if(!s.test(e))return[];var r=s.exec(e);let n={};for(let t=1;t<r.length;t++)n[a[t-1]]=r[t];return n}parse(t,e){var a,t=this.translate(t),s=this.match(t.pattern,e,t.sequence);const r=this.calendar;let n=r.getDateTime();for(a in s){var i=s[a];switch(a){case SimpleParser.FULL_YEAR:n.year=+i;break;case SimpleParser.SHORT_YEAR:const o=new CalendarManager;o.name(r.name()),n.year=100*parseInt(o.getYear()/100)+ +i;break;case SimpleParser.FULL_MONTH:case SimpleParser.SHORT_MONTH:n.month=+i;break;case SimpleParser.FULL_DAY:case SimpleParser.SHORT_DAY:n.day=+i;break;case SimpleParser.FULL_HOUR:case SimpleParser.SHORT_HOUR:n.hour=+i;break;case SimpleParser.FULL_MINUTE:case SimpleParser.SHORT_MINUTE:n.minute=+i;break;case SimpleParser.FULL_SECOND:case SimpleParser.SHORT_SECOND:n.second=+i;break;case SimpleParser.FULL_MONTH_NAME:names=Pasoonate.trans(r.name()+".month_name"),month=names.indexOf(i),0<month&&(n.month=month);break;case SimpleParser.SHORT_MONTH_NAME:names=Pasoonate.trans(r.name()+".short_month_name"),month=names.indexOf(i),0<month&&(n.month=month);break;case SimpleParser.FULL_DAY_NAME:case SimpleParser.SHORT_DAY_NAME:}}r.setDateTime(n.year,n.month,n.day,n.hour,n.minute,n.second)}}const fa={gregorian:{day_name:{0:"Saturday",1:"Sunday",2:"Monday",3:"Tuesday",4:"Wednesday",5:"Thursday",6:"Friday"},short_day_name:{0:"Sat",1:"Sun",2:"Mon",3:"Tue",4:"Wed",5:"Thu",6:"Fri"},month_name:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},short_month_name:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}},jalali:{day_name:{0:"شنبه",1:"یک‌شنبه",2:"دوشنبه",3:"سه‌شنبه",4:"چهارشنبه",5:"پنج‌شنبه",6:"جمعه"},short_day_name:{0:"ش",1:"ی",2:"د",3:"س",4:"چ",5:"پ",6:"ج"},month_name:{1:"فروردین",2:"اردیبهشت",3:"خرداد",4:"تیر",5:"مرداد",6:"شهریور",7:"مهر",8:"آبان",9:"آذر",10:"دی",11:"بهمن",12:"اسفند"},short_month_name:{1:"فرو",2:"ارد",3:"خرد",4:"تیر",5:"مرد",6:"شهر",7:"مهر",8:"آبا",9:"آذر",10:"دی",11:"بهم",12:"اسف"}},islamic:{day_name:{0:"السبت",1:"الأحَد",2:"الإثنين",3:"الثلاثاء",4:"الأربعاء",5:"الخميس",6:"الجمعة"},short_day_name:{0:"السبت",1:"الأحَد",2:"الإثنين",3:"الثلاثاء",4:"الأربعاء",5:"الخميس",6:"الجمعة"},month_name:{1:"محرم",2:"صفر",3:"ربیع‌الاول",4:"ربیع‌الثانی",5:"جمادی‌الاول",6:"جمادی‌الثانی",7:"رجب",8:"شعبان",9:"رمضان",10:"شوال",11:"ذیقعده",12:"ذیحجه"},short_month_name:{1:"محرم",2:"صفر",3:"ربیع‌الاول",4:"ربیع‌الثانی",5:"جمادی‌الاول",6:"جمادی‌الثانی",7:"رجب",8:"شعبان",9:"رمضان",10:"شوال",11:"ذیقعده",12:"ذیحجه"}},shia:{day_name:{0:"السبت",1:"الأحَد",2:"الإثنين",3:"الثلاثاء",4:"الأربعاء",5:"الخميس",6:"الجمعة"},short_day_name:{0:"السبت",1:"الأحَد",2:"الإثنين",3:"الثلاثاء",4:"الأربعاء",5:"الخميس",6:"الجمعة"},month_name:{1:"محرم",2:"صفر",3:"ربیع‌الاول",4:"ربیع‌الثانی",5:"جمادی‌الاول",6:"جمادی‌الثانی",7:"رجب",8:"شعبان",9:"رمضان",10:"شوال",11:"ذیقعده",12:"ذیحجه"},short_month_name:{1:"محرم",2:"صفر",3:"ربیع‌الاول",4:"ربیع‌الثانی",5:"جمادی‌الاول",6:"جمادی‌الثانی",7:"رجب",8:"شعبان",9:"رمضان",10:"شوال",11:"ذیقعده",12:"ذیحجه"}}},Constants={J1970:2440587.5,Saturday:0,Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6,YearsPerCentury:100,YearsPerDecade:10,MonthsPerYear:12,WeeksPerYear:52,DaysPerWeek:7,HoursPerDay:24,MinutesPerHour:60,SecondsPerMinute:60,HourInSeconds:3600,DayInSeconds:86400,WeekInSeconds:604800,MonthInSeconds:2629743,YearInSeconds:31556926,MonthInDays:30.44,YearInDays:365.24,ShiaEpoch:1948439.5,JalaliEpoch:1948320.5,GregorianEpoch:1721425.5,IslamicEpoch:1948439.5,DaysOfIslamicYear:354,DaysOfShiaYear:354,DaysOfJalaliYear:365,DaysOfGregorianYear:365,Gregorian:"gregorian",Jalali:"jalali",Shia:"shia",Islamic:"islamic"};class Localization{constructor(){this._langs={},this._locale="fa"}setLang(t,e){this._langs[t]=e}setLocale(t){this._locale=t||this._locale}getLocale(){return this._locale}isLocale(t){return this._locale===t}hasTransKey(t,e){var a=t.split(".");if(null==this._langs[e])return!1;let s=this._langs[e];for(let t=0;t<a.length;t++){if(!(a[t]in s))return!1;s=s[a[t]]}return s}getTrans(t,e){e=this.hasTransKey(t,e);return e||t}trans(t,e){return e=e||this._locale,this.getTrans(t=t||"",e)}}class Pasoonate{constructor(){}static make(t,e){return new CalendarManager(t,e)}static trans(t,e){return Pasoonate.localization.trans(t,e)}static setLocale(t){Pasoonate.localization.setLocale(t)}static getLocale(){return Pasoonate.localization.getLocale()}static isLocale(t){return Pasoonate.localization.isLocale(t)}static setFormatter(t){Pasoonate.formatter=t instanceof DateFormat?t:new SimpleDateFormat}static setParser(t){Pasoonate.parser=t instanceof Parser?t:new SimpleParser}static clone(t){return Pasoonate.make(t.getTimestamp(),t.getTimezoneOffset())}}Object.assign(Pasoonate,Constants),Pasoonate.localization=new Localization,Object.defineProperty(Pasoonate,"localization",{writable:!1,configurable:!1}),Pasoonate.formatter=new SimpleDateFormat,Object.defineProperty(Pasoonate,"formatter",{writable:!1,configurable:!1}),Pasoonate.parser=new SimpleParser,Object.defineProperty(Pasoonate,"parser",{writable:!1,configurable:!1}),Pasoonate.localization.setLang("fa",fa);